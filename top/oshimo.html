<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="css/style.css" rel="stylesheet" />

  <!-- jqueryを -->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
  <link href="./dist/jqvmap.css" media="screen" rel="stylesheet" type="text/css" />

  <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script type="text/javascript" src="./dist/jquery.vmap.js"></script>
  <script type="text/javascript" src="./dist/maps/jquery.vmap.world.js" charset="utf-8"></script>

  <script id="jmap_script">
    jQuery(document).ready(function () {
      jQuery("#vmap").vectorMap({
        map: "world_en",
        backgroundColor: "url(#Pattern)",
        borderColor: "black",
        borderOpacity: 1,
        borderWidth: 0.3,
        color: "url(#Pattern)",
        enableZoom: true,
        hoverColor: "#c0c0c0",
        hoverOpacity: 0.8,
        normalizeFunction: "linear",
        scaleColors: ["#b6d6ff", "#005ace"],
        selectedColor: "#2BBF00", //元々c9dfaf
        selectedRegions: null,
        showTooltip: true, //吹き出し
        onRegionClick: function (element, code, region) {
          var message =
            'You clicked "' +
            region +
            '" which has the code: ' +
            code.toUpperCase();
          console.log(element.target);
          alert(message);
        },
      });
    });
  </script>

  <title>top</title>
</head>

<body>
  <header>
    <div class="logo">
      <a href="index.html"><img src="img/new_header.png" alt="旅する衣" /></a>
    </div>

    <div id="navArea">
      <nav>
        <div class="inner">
          <ul>
            <!--figmaの通りに装飾-->
            <li class="info1"><a href="#">■ NEW INFORMATION</a></li>
            <li class="info2"><a href="#">■ NEW INFORMATION</a></li>

            <li class="about1"><a href="#">■ ABOUT US</a></li>
            <li class="about2"><a href="#">■ ABOUT US</a></li>

            <li class="create1"><a href="#">■ WHO CREATE?</a></li>
            <li class="create2"><a href="#">■ WHO CREATE?</a></li>

            <!-- <li class="sns1"><a href="#">SNS</a></li>
                        <li class="sns2"><a href="#">SNS</a></li> -->

            <li class="contact1"><a href="#">■ CONTACT US</a></li>
            <li class="contact2"><a href="#">■ CONTACT US</a></li>
          </ul>
        </div>
      </nav>

      <div class="toggle_btn1">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div class="toggle_btn2">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div id="mask"></div>
    </div>
  </header>

  <!--ここからコンテンツ-->

  <div id="wrap">
    <div id="vmap" style="
          width: 100%;
          height: 800px;
          top: 80px;
          position: absolute;
          text-align: center;
        "></div>

    <div class="content-main">
      <h2 class="midasi">旅する衣とは?<br />-Whats is TBISURU KOROMO-</h2>

      <h2 class="midasi-white">
        旅する衣とは?<br />-Whats is TBISURU KOROMO-
      </h2>

      <div class="content-mini">
        <img src="img/body.png" alt="ボディ1" />

        <div class="text">
          <h2>「衣で世界を旅しよう」</h2>
          <p>
            このテーマを基に<br />
            全世界の〇〇をポップに形にしていく<br />
            ひそかに壮大なプロジェクトなのだ。
          </p>
        </div>
      </div>
    </div>
  </div>

  <!--ここからフッター-->

  <footer>
    <small>© 2021 ISENTI</small>
  </footer>

  <script>
    "use script";

    (function ($) {
      var $nav = $("#navArea");
      var $btn = $(".toggle_btn1");
      var $mask = $("#mask");
      var open = "open"; // class
      // menu open close
      $btn.on("click", function () {
        if (!$nav.hasClass(open)) {
          $nav.addClass(open);
        } else {
          $nav.removeClass(open);
        }
      });
      // mask close
      $mask.on("click", function () {
        $nav.removeClass(open);
      });
    })(jQuery);

    //   #vmap配下に変更があったとき
    $("#vmap").on("DOMSubtreeModified propertychange", function () {
      //   svg要素を作成する
      let defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
      let pattern = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');
      let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
      pattern.setAttribute("id", "Pattern");
      pattern.setAttribute("x", "0");
      pattern.setAttribute("y", "0");
      pattern.setAttribute("patternUnits", "userSpaceOnUse");
      pattern.setAttribute("width", "5");
      pattern.setAttribute("height", "5");
      // pattern.setAttribute("stroke", "black");
      // pattern.setAttribute("stroke-width", "5");
      rect.setAttribute("x", "0");
      rect.setAttribute("y", "0");
      rect.setAttribute("width", "100");
      rect.setAttribute("height", "100");
      rect.setAttribute("fill", "white");
      circle.setAttribute("cx", "2");
      circle.setAttribute("cy", "2");
      circle.setAttribute("r", "1");
      circle.setAttribute("fill", "#2BBF00");
      pattern.append(rect);
      pattern.appendChild(circle);
      defs.appendChild(pattern);

      // svg要素を追加する
      if ($("svg defs").length == 0) {
        $("svg").prepend(defs);
      }
    });
  </script>

  <script src="js/text.js"></script>
</body>

</html>